# Template file for 'drawio-desktop'
pkgname=drawio-desktop
version=29.2.9
revision=1
only_for_archs="x86_64"
hostmakedepends="tar xz"
short_desc="Official electron build of draw.io, a client-side JavaScript editor for general diagramming."
maintainer="ndpm13 <ndpm13@ch-naseem.com>"
license="Apache-2.0"
homepage="https://www.diagrams.net/"
distfiles="https://github.com/jgraph/drawio-desktop/releases/download/v${version}/drawio-amd64-${version}.deb"
checksum=f04e3d874c9682ea0d6033e0c42ca2f11187f101a96f40d5c103f745a4f049d0
nostrip=yes

do_extract() {
  mkdir -p ${DESTDIR}
  ar x ${XBPS_SRCDISTDIR}/${pkgname}-${version}/drawio-amd64-${version}.deb
  tar xf data.tar.xz -C ${DESTDIR}
}

do_install() {
	vmkdir usr/bin
  ln -sf /opt/drawio/drawio ${DESTDIR}/usr/bin/drawio
  # Cleanup up
  rm -rf ${DESTDIR}/etc
}
