# Template file for 'grayjay'
pkgname=grayjay
version=12
revision=1
only_for_archs="x86_64"
hostmakedepends="unzip"
makedepends=""
depends="gtk+3 libnotify nss libXScrnSaver libXtst xdg-utils at-spi2-core libsecret libayatana-appindicator"
short_desc="Grayjay Desktop - follow creators, not platforms"
maintainer="Naz <ndpm13@ch-naeseem.com>"
license="Source First License 1.1"
homepage="https://grayjay.app/"
distfiles="https://updater.grayjay.app/Apps/Grayjay.Desktop/${version}/Grayjay.Desktop-linux-x64-v${version}.zip"
checksum=ba008a153255fff7adba5612c3d27b42509f7910043f4daf7f3c88c7f1c01a54
nostrip=yes

do_extract() {
    unzip ${XBPS_SRCDISTDIR}/${pkgname}-${version}/Grayjay.Desktop-linux-x64-v${version}.zip
}

do_install() {
    cd "Grayjay.Desktop-linux-x64-v${version}"

    vmkdir usr/lib/grayjay
    vcopy "*" usr/lib/grayjay/

    vinstall "${FILESDIR}/grayjay.desktop" 644 usr/share/applications
    vinstall grayjay.png 644 usr/share/icons/hicolor/512x512/apps

    vbin "${FILESDIR}/grayjay"
}
